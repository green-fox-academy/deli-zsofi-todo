var parseMessage = function (data) {
  var url = []
  
  for (var i in data.Messages) {
    url.push(data.Messages[i].Body)
  }

  return url
}

var buildRoute = function (config) {
  var route = ''
  var protocol = 'amqp://'
  var username = config.credentials.username
  var password = config.credentials.password
  var host = config.host
  var vhost = config.vhost
  
  route += protocol

  if (username && password) {
    route += (username + ':' + password + '@')
  }

  route += host

  if (vhost !== '/') route += ('/' + vhost)

  return route
}

module.exports = {
  parseMessage: parseMessage,
  buildRoute: buildRoute
}
